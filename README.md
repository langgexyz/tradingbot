# ğŸ¤– äº¤æ˜“æœºå™¨äºº

åŸºäºGoè¯­è¨€å¼€å‘çš„åŠ å¯†è´§å¸äº¤æ˜“æœºå™¨äººï¼Œæ”¯æŒå¸ƒæ—é“ç­–ç•¥ã€PostgreSQLæ•°æ®å­˜å‚¨å’Œé«˜æ•ˆå›æµ‹ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ”„ æ ¸å¿ƒåŠŸèƒ½
- **å¸å®‰APIé›†æˆ**: æ”¯æŒç°è´§äº¤æ˜“ã€Kçº¿æ•°æ®è·å–
- **å¸ƒæ—é“ç­–ç•¥**: ç»å…¸æŠ€æœ¯åˆ†æç­–ç•¥å®ç°
- **æ•°æ®åº“å­˜å‚¨**: PostgreSQLå­˜å‚¨å†å²Kçº¿æ•°æ®
- **é«˜æ•ˆå›æµ‹**: åŸºäºå†å²æ•°æ®çš„ç­–ç•¥å›æµ‹
- **å®æ—¶äº¤æ˜“**: æ”¯æŒæ¨¡æ‹Ÿå’Œå¸å®‰å®ç›˜äº¤æ˜“
- **é£é™©ç®¡ç†**: æ­¢æŸæ­¢ç›ˆã€ä»“ä½æ§åˆ¶

### ğŸ“Š æ•°æ®ç®¡ç†
- **Kçº¿æ•°æ®å­˜å‚¨**: æ”¯æŒå¤šäº¤æ˜“å¯¹ã€å¤šæ—¶é—´å‘¨æœŸ
- **å¢é‡åŒæ­¥**: æ™ºèƒ½æ•°æ®åŒæ­¥ï¼Œé¿å…é‡å¤è·å–
- **å›æµ‹è®°å½•**: å®Œæ•´çš„å›æµ‹å†å²å’Œäº¤æ˜“è®°å½•
- **æ€§èƒ½ä¼˜åŒ–**: æ•°æ®åº“ç´¢å¼•ä¼˜åŒ–ï¼ŒæŸ¥è¯¢é«˜æ•ˆ

### ğŸ› ï¸ å¼€å‘å·¥å…·
- **å‘½ä»¤è¡Œå·¥å…·**: pingæµ‹è¯•ã€Kçº¿è·å–ã€æ•°æ®åŒæ­¥
- **é…ç½®ç®¡ç†**: åŸºäºgo-configçš„é…ç½®ç³»ç»Ÿ
- **æ—¥å¿—ç³»ç»Ÿ**: åŸºäºgo-logçš„ç»“æ„åŒ–æ—¥å¿—

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

```bash
# å®‰è£…Go (1.19+)
# å®‰è£…PostgreSQL (å¯é€‰ï¼Œç”¨äºæ•°æ®å­˜å‚¨)

# å…‹éš†é¡¹ç›®
git clone <repository>
cd tradingbot
```

### 2. ç¼–è¯‘é¡¹ç›®

```bash
# å®‰è£…ä¾èµ–
go mod tidy

# ç¼–è¯‘
make build
```

### 3. é…ç½®è®¾ç½®

```bash
# ç”Ÿæˆé»˜è®¤é…ç½®
./bin/tradingbot --help

# ç¼–è¾‘é…ç½®æ–‡ä»¶
cp config.json.default config.json
# ä¿®æ”¹config.jsonä¸­çš„APIå¯†é’¥ç­‰é…ç½®
```

### 4. æµ‹è¯•è¿æ¥

```bash
# æµ‹è¯•å¸å®‰APIè¿æ¥
make ping

# æµ‹è¯•Kçº¿æ•°æ®è·å–
make kline
```

### 5. è¿è¡Œå›æµ‹

```bash
# è¿è¡Œå¸ƒæ—é“ç­–ç•¥å›æµ‹
./bin/tradingbot bollinger-backtest -base DOGE -quote USDT -start 2024-01-01 -end 2024-06-30 -t 4h -capital 10000 -sell-strategy trailing_5
```

### 6. é…ç½®å®ç›˜äº¤æ˜“ï¼ˆå¯é€‰ï¼‰

**âš ï¸ é£é™©æç¤ºï¼šå®ç›˜äº¤æ˜“æ¶‰åŠçœŸå®èµ„é‡‘ï¼Œè¯·è°¨æ…æ“ä½œï¼**

```bash
# 1. é…ç½®å¸å®‰APIå¯†é’¥ï¼ˆç¼–è¾‘ bin/config.jsonï¼‰
{
  "tradingbot/src/cex/binance:Config": {
    "APIKey": "ä½ çš„APIå¯†é’¥",
    "SecretKey": "ä½ çš„Secretå¯†é’¥",
    "EnableTrading": true,
    "ReadOnly": false
  }
}

# 2. æµ‹è¯•è¿æ¥
./bin/tradingbot bollinger-backtest -base BTC -quote USDT -start 2024-01-01 -end 2024-01-02 -t 1h -capital 100

# 3. å¯åŠ¨å®ç›˜äº¤æ˜“
./bin/tradingbot bollinger-live -base DOGE -quote USDT -t 4h -sell-strategy conservative
```

## ğŸ“‹ å‘½ä»¤ä½¿ç”¨

### åŸºç¡€å‘½ä»¤

```bash
# æŸ¥çœ‹å¸®åŠ©
./bin/tradingbot --help

# æµ‹è¯•APIè¿æ¥
./bin/tradingbot ping -v

# è·å–Kçº¿æ•°æ®
./bin/tradingbot kline -s BTCUSDT -i 4h -l 10 -v

# æŸ¥çœ‹æ”¯æŒçš„äº¤æ˜“å¯¹
./bin/tradingbot bollinger --list
```

### å¸ƒæ—é“ç­–ç•¥äº¤æ˜“

```bash
# å›æµ‹å‘½ä»¤
./bin/tradingbot bollinger-backtest -base DOGE -quote USDT -start 2024-01-01 -end 2024-06-30 -t 4h -capital 10000 -sell-strategy trailing_5

# å®ç›˜äº¤æ˜“å‘½ä»¤
./bin/tradingbot bollinger-live -base DOGE -quote USDT -t 4h -sell-strategy conservative

# æ”¯æŒçš„äº¤æ˜“ç­–ç•¥
-sell-strategy conservative   # ä¿å®ˆç­–ç•¥ (15%å›ºå®šæ­¢ç›ˆ)
-sell-strategy moderate      # ä¸­ç­‰ç­–ç•¥ (20%å›ºå®šæ­¢ç›ˆ) - é»˜è®¤
-sell-strategy aggressive    # æ¿€è¿›ç­–ç•¥ (30%å›ºå®šæ­¢ç›ˆ)
-sell-strategy trailing_5    # 5%è·Ÿè¸ªæ­¢æŸ (15%åå¯åŠ¨)
-sell-strategy trailing_10   # 10%è·Ÿè¸ªæ­¢æŸ (20%åå¯åŠ¨)
-sell-strategy combo_smart   # æ™ºèƒ½ç»„åˆç­–ç•¥

# æŸ¥çœ‹å‘½ä»¤å¸®åŠ©
./bin/tradingbot bollinger-backtest --help
./bin/tradingbot bollinger-live --help
```

### Makefileå¿«æ·å‘½ä»¤

```bash
make build      # ç¼–è¯‘é¡¹ç›®
make ping       # æµ‹è¯•è¿æ¥
make kline      # æµ‹è¯•Kçº¿
make sync       # åŒæ­¥æ•°æ®
make clean      # æ¸…ç†æ„å»ºæ–‡ä»¶
```

## âš™ï¸ é…ç½®è¯´æ˜

### ğŸ¯ æ ¸å¿ƒé…ç½®æ–‡ä»¶ `bin/config.json`

```json
{
  "tradingbot/src/cex/binance:Config": {
    "APIKey": "",                // å¸å®‰APIå¯†é’¥
    "SecretKey": "",             // å¸å®‰Secretå¯†é’¥
    "BaseURL": "https://api.binance.com",
    "Timeout": 10,
    "EnableTrading": false,      // å®ç›˜äº¤æ˜“å¼€å…³
    "ReadOnly": true,            // åªè¯»æ¨¡å¼
    "Fee": 0.001,               // äº¤æ˜“æ‰‹ç»­è´¹ç‡
    "DBName": "tradingbot_binance"
  },
  "tradingbot/src/database:DatabaseConfig": {
    "Host": "localhost",
    "Port": "5432",
    "User": "tradingbot",
    "Password": "",
    "DBName": "tradingbot",
    "SSLMode": "disable",
    "MaxOpenConns": 25,
    "MaxIdleConns": 5
  },
  "tradingbot/src/trading:TradingConfig": {
    "Timeframe": "4h",
    "MaxPositions": 1,
    "PositionSizePercent": 0.95,
    "MinTradeAmount": 10
  }
}
```

### é…ç½®è¯¦è§£

- **binance:Config**: å¸å®‰APIé…ç½®ï¼ŒåŒ…å«å¯†é’¥ã€äº¤æ˜“å¼€å…³ç­‰
- **database:DatabaseConfig**: PostgreSQLæ•°æ®åº“è¿æ¥é…ç½®  
- **trading:TradingConfig**: äº¤æ˜“åŸºç¡€é…ç½®ï¼Œä»“ä½å¤§å°ã€æœ€å°äº¤æ˜“é‡‘é¢ç­‰

### âš™ï¸ å¸¸ç”¨é…ç½®ä¿®æ”¹

#### ä¿®æ”¹ä»“ä½å¤§å°
```json
"PositionSizePercent": 0.5  // æ”¹ä¸º50%ä»“ä½
```

#### ä¿®æ”¹æœ€å°äº¤æ˜“é‡‘é¢
```json
"MinTradeAmount": 50  // æœ€å°50 USDT
```

#### å¯ç”¨å®ç›˜äº¤æ˜“
```json
"EnableTrading": true,
"ReadOnly": false
```

### ğŸ—„ï¸ æ•°æ®åº“è¿æ¥ä¿¡æ¯

**Binanceæ•°æ®åº“è¿æ¥**:
- ä¸»æœº: localhost:5432
- ç”¨æˆ·: tradingbot  
- å¯†ç : tradingbot123
- æ•°æ®åº“: tradingbot_binance

**è¿æ¥å‘½ä»¤**:
```bash
psql -U tradingbot -d tradingbot_binance
```

## ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡

### æ ¸å¿ƒè¡¨ç»“æ„

1. **klines**: Kçº¿æ•°æ®è¡¨ï¼ˆæ ¸å¿ƒï¼‰
   - å­˜å‚¨å†å²Kçº¿æ•°æ®
   - æ”¯æŒå¤šäº¤æ˜“å¯¹ã€å¤šæ—¶é—´å‘¨æœŸ
   - å”¯ä¸€çº¦æŸé˜²æ­¢é‡å¤æ•°æ®

2. **backtest_runs**: å›æµ‹è®°å½•è¡¨
   - å­˜å‚¨å›æµ‹é…ç½®å’Œç»“æœ
   - æ”¯æŒç­–ç•¥å‚æ•°å¯¹æ¯”

3. **trades**: äº¤æ˜“è®°å½•è¡¨
   - è¯¦ç»†çš„äº¤æ˜“å†å²
   - å…³è”å›æµ‹è¿è¡Œè®°å½•

4. **sync_status**: åŒæ­¥çŠ¶æ€è¡¨
   - è·Ÿè¸ªæ•°æ®åŒæ­¥è¿›åº¦
   - æ”¯æŒå¢é‡åŒæ­¥

### æ•°æ®åº“åˆå§‹åŒ–

```bash
# 1. åˆ›å»ºæ•°æ®åº“
createdb tradingbot

# 2. æ‰§è¡Œschema
psql -d tradingbot -f database/schema.sql
```

## ğŸ“ˆ ç­–ç•¥è¯´æ˜

### å¸ƒæ—é“ç­–ç•¥

å¸ƒæ—é“ï¼ˆBollinger Bandsï¼‰æ˜¯ä¸€ç§æŠ€æœ¯åˆ†æå·¥å…·ï¼ŒåŒ…å«ä¸‰æ¡çº¿ï¼š
- **ä¸­è½¨**: ç§»åŠ¨å¹³å‡çº¿ï¼ˆé»˜è®¤20æœŸï¼‰
- **ä¸Šè½¨**: ä¸­è½¨ + 2å€æ ‡å‡†å·®
- **ä¸‹è½¨**: ä¸­è½¨ - 2å€æ ‡å‡†å·®

#### äº¤æ˜“é€»è¾‘
- **ä¹°å…¥ä¿¡å·**: ä»·æ ¼è§¦åŠä¸‹è½¨æ—¶ä¹°å…¥
- **å–å‡ºä¿¡å·**: ä»·æ ¼è§¦åŠä¸Šè½¨æ—¶å–å‡º
- **é£é™©æ§åˆ¶**: æ”¯æŒæ­¢æŸæ­¢ç›ˆå’Œå†·å´æœŸ

#### å‚æ•°é…ç½®
```json
{
  "period": 20,                    // è®¡ç®—å‘¨æœŸ
  "multiplier": 2.0,              // æ ‡å‡†å·®å€æ•°
  "position_size_percent": 0.95,   // ä»“ä½æ¯”ä¾‹
  "stop_loss_percent": 0.05,      // æ­¢æŸæ¯”ä¾‹
  "take_profit_percent": 0.1,     // æ­¢ç›ˆæ¯”ä¾‹
  "cooldown_bars": 3              // å†·å´æœŸ
}
```

## ğŸ”§ å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„

```
tradingbot/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/           # ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ config/         # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ binance/        # å¸å®‰APIå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ database/       # æ•°æ®åº“æ“ä½œ
â”‚   â”œâ”€â”€ strategies/     # äº¤æ˜“ç­–ç•¥
â”‚   â”œâ”€â”€ backtest/       # å›æµ‹å¼•æ“
â”‚   â”œâ”€â”€ trading/        # äº¤æ˜“ç³»ç»Ÿ
â”‚   â”œâ”€â”€ indicators/     # æŠ€æœ¯æŒ‡æ ‡
â”‚   â”œâ”€â”€ timeframes/     # æ—¶é—´å‘¨æœŸ
â”‚   â””â”€â”€ cmd/           # å‘½ä»¤è¡Œå·¥å…·
â”œâ”€â”€ database/          # æ•°æ®åº“schema
â”œâ”€â”€ bin/              # ç¼–è¯‘è¾“å‡º
â””â”€â”€ config.json       # é…ç½®æ–‡ä»¶
```

### æ·»åŠ æ–°ç­–ç•¥

1. åœ¨`src/strategies/`ç›®å½•ä¸‹åˆ›å»ºæ–°ç­–ç•¥æ–‡ä»¶
2. å®ç°`Strategy`æ¥å£
3. åœ¨é…ç½®ä¸­æ·»åŠ ç­–ç•¥å‚æ•°
4. æ³¨å†Œåˆ°äº¤æ˜“ç³»ç»Ÿ

### æ‰©å±•åŠŸèƒ½

- æ·»åŠ æ–°çš„æŠ€æœ¯æŒ‡æ ‡
- æ”¯æŒæ›´å¤šäº¤æ˜“æ‰€
- å®ç°æ›´å¤æ‚çš„é£é™©ç®¡ç†
- æ·»åŠ Webç•Œé¢

## ğŸ—ï¸ ç­–ç•¥æ¶æ„è®¾è®¡

### åè®®åˆ†ç¦»æ¶æ„

æ–°çš„ç­–ç•¥æ¶æ„é‡‡ç”¨**åè®®åˆ†ç¦»**çš„è®¾è®¡ç†å¿µï¼Œå°†äº¤æ˜“ç­–ç•¥æ‹†åˆ†ä¸ºå››ä¸ªç‹¬ç«‹çš„åè®®ï¼š

1. **EntryStrategy** - å…¥åœºç­–ç•¥åè®®
2. **ExitStrategy** - å‡ºåœºç­–ç•¥åè®®  
3. **RiskManagementStrategy** - é£é™©ç®¡ç†åè®®
4. **PositionSizingStrategy** - ä»“ä½ç®¡ç†åè®®

### è®¾è®¡åŸåˆ™

#### å•ä¸€èŒè´£åŸåˆ™
æ¯ä¸ªåè®®åªè´Ÿè´£ä¸€ä¸ªç‰¹å®šçš„åŠŸèƒ½ï¼š
- å…¥åœºç­–ç•¥åªå…³å¿ƒä½•æ—¶ä¹°å…¥
- å‡ºåœºç­–ç•¥åªå…³å¿ƒä½•æ—¶å–å‡º
- é£é™©ç®¡ç†åªå…³å¿ƒæ­¢æŸæ­¢ç›ˆ
- ä»“ä½ç®¡ç†åªå…³å¿ƒä¹°å–å¤šå°‘

#### ç»„åˆä¼˜äºç»§æ‰¿
é€šè¿‡`CompositeStrategy`ç»„åˆä¸åŒçš„ç­–ç•¥åè®®ï¼Œè€Œä¸æ˜¯é€šè¿‡ç»§æ‰¿å®ç°å¤æ‚ç­–ç•¥ã€‚

### æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CompositeStrategy                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚EntryStrategyâ”‚ â”‚ExitStrategy â”‚ â”‚RiskStrategy â”‚ â”‚SizeStratâ”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ TradingEngine   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Executor      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åè®®å®šä¹‰

#### EntryStrategy å…¥åœºç­–ç•¥åè®®
```go
type EntryStrategy interface {
    ShouldEnter(ctx context.Context, kline *binance.KlineData, portfolio *executor.Portfolio) (*EnhancedSignal, error)
    GetName() string
    GetParams() map[string]interface{}
}
```

**ç¤ºä¾‹å®ç°**ï¼š
- `BollingerEntryStrategy` - å¸ƒæ—é“ä¸‹è½¨è§¦åŠå…¥åœº
- `MACDEntryStrategy` - MACDé‡‘å‰å…¥åœº
- `RSIEntryStrategy` - RSIè¶…å–å…¥åœº

#### ExitStrategy å‡ºåœºç­–ç•¥åè®®
```go
type ExitStrategy interface {
    ShouldExit(ctx context.Context, kline *binance.KlineData, portfolio *executor.Portfolio) (*EnhancedSignal, error)
    GetName() string
    GetParams() map[string]interface{}
}
```

**ç¤ºä¾‹å®ç°**ï¼š
- `BollingerExitStrategy` - å¸ƒæ—é“ä¸Šè½¨è§¦åŠå‡ºåœº
- `MACDExitStrategy` - MACDæ­»å‰å‡ºåœº
- `TimeBasedExitStrategy` - æ—¶é—´åˆ°æœŸå‡ºåœº

#### RiskManagementStrategy é£é™©ç®¡ç†åè®®
```go
type RiskManagementStrategy interface {
    CheckRisk(ctx context.Context, kline *binance.KlineData, portfolio *executor.Portfolio) (*EnhancedSignal, error)
    GetName() string
    GetParams() map[string]interface{}
}
```

**ç¤ºä¾‹å®ç°**ï¼š
- `StopLossTakeProfitStrategy` - å›ºå®šç™¾åˆ†æ¯”æ­¢æŸæ­¢ç›ˆ
- `TrailingStopStrategy` - ç§»åŠ¨æ­¢æŸ
- `VaRRiskStrategy` - VaRé£é™©ç®¡ç†

#### PositionSizingStrategy ä»“ä½ç®¡ç†åè®®
```go
type PositionSizingStrategy interface {
    CalculateSize(ctx context.Context, signal *EnhancedSignal, portfolio *executor.Portfolio) (float64, error)
    GetName() string
    GetParams() map[string]interface{}
}
```

**ç¤ºä¾‹å®ç°**ï¼š
- `FixedPercentageStrategy` - å›ºå®šç™¾åˆ†æ¯”ä»“ä½
- `KellyStrategy` - å‡¯åˆ©å…¬å¼ä»“ä½
- `VolatilityBasedStrategy` - åŸºäºæ³¢åŠ¨ç‡çš„ä»“ä½

### ä½¿ç”¨ç¤ºä¾‹

#### åˆ›å»ºç»„åˆç­–ç•¥
```go
// åˆ›å»ºå„ä¸ªå­ç­–ç•¥
entryStrategy := entry.NewBollingerEntryStrategy(20, 2.0, 3)
exitStrategy := exit.NewBollingerExitStrategy(20, 2.0)
riskStrategy := risk.NewStopLossTakeProfitStrategy(0.05, 0.1)
sizingStrategy := sizing.NewFixedPercentageStrategy(0.95, 10.0)

// ç»„åˆç­–ç•¥
compositeStrategy := strategy.NewCompositeStrategy(
    "MyBollingerStrategy",
    entryStrategy,
    exitStrategy,
    riskStrategy,
    sizingStrategy,
)
```

#### çµæ´»ç»„åˆä¸åŒç­–ç•¥
```go
// å¸ƒæ—é“å…¥åœº + MACDå‡ºåœº + ç§»åŠ¨æ­¢æŸ + å‡¯åˆ©ä»“ä½
strategy1 := strategy.NewCompositeStrategy(
    "BollingerMACDStrategy",
    entry.NewBollingerEntryStrategy(20, 2.0, 3),
    exit.NewMACDExitStrategy(12, 26, 9),
    risk.NewTrailingStopStrategy(0.05),
    sizing.NewKellyStrategy(0.25),
)
```

### æ¶æ„ä¼˜åŠ¿

1. **é«˜åº¦æ¨¡å—åŒ–** - æ¯ä¸ªåè®®ç‹¬ç«‹å¼€å‘å’Œæµ‹è¯•
2. **çµæ´»ç»„åˆ** - å¯ä»¥ä»»æ„ç»„åˆä¸åŒçš„ç­–ç•¥å®ç°
3. **æ˜“äºæ‰©å±•** - æ·»åŠ æ–°ç­–ç•¥éå¸¸ç®€å•
4. **èŒè´£æ¸…æ™°** - æ¯ä¸ªåè®®çš„èŒè´£æ˜ç¡®
5. **å¯æµ‹è¯•æ€§** - æ¯ä¸ªåè®®å¯ä»¥ç‹¬ç«‹è¿›è¡Œå•å…ƒæµ‹è¯•

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### æ•°æ®åº“ä¼˜åŒ–
- ä½¿ç”¨ç´¢å¼•åŠ é€ŸæŸ¥è¯¢
- æ‰¹é‡æ“ä½œæé«˜æ•ˆç‡
- è¿æ¥æ± ç®¡ç†è¿æ¥

### å›æµ‹ä¼˜åŒ–
- æ•°æ®é¢„åŠ è½½
- å¹¶è¡Œè®¡ç®—
- å†…å­˜ä¼˜åŒ–

## ğŸ’° å¸å®‰å®ç›˜äº¤æ˜“

### ğŸš¨ é‡è¦å®‰å…¨æé†’

**âš ï¸  ä½¿ç”¨çœŸå®èµ„é‡‘è¿›è¡Œäº¤æ˜“å‰ï¼Œè¯·ä»”ç»†é˜…è¯»æœ¬æŒ‡å—ï¼**
**âš ï¸  å»ºè®®å…ˆä½¿ç”¨å°é¢èµ„é‡‘è¿›è¡Œæµ‹è¯•ï¼**
**âš ï¸  äº¤æ˜“æœ‰é£é™©ï¼Œå¯èƒ½å¯¼è‡´èµ„é‡‘æŸå¤±ï¼**

### ğŸ”‘ é…ç½®å¸å®‰APIå¯†é’¥

#### 1. åˆ›å»ºå¸å®‰APIå¯†é’¥
1. ç™»å½• [å¸å®‰å®˜ç½‘](https://www.binance.com)
2. è¿›å…¥ **è´¦æˆ·ç®¡ç†** â†’ **APIç®¡ç†**
3. åˆ›å»ºæ–°çš„APIå¯†é’¥
4. **é‡è¦**ï¼šåªå¯ç”¨ä»¥ä¸‹æƒé™ï¼š
   - âœ… **è¯»å–** (Read)
   - âœ… **ç°è´§äº¤æ˜“** (Spot Trading)
   - âŒ **åˆçº¦äº¤æ˜“** (Futures Trading) - ä¸éœ€è¦
   - âŒ **æå¸** (Withdraw) - ä¸ºäº†å®‰å…¨ï¼Œä¸å¯ç”¨
5. è®¾ç½®IPç™½åå•ï¼ˆæ¨èï¼‰
6. ä¿å­˜API Keyå’ŒSecret Key

#### 2. é…ç½®äº¤æ˜“ç³»ç»Ÿ

ç¼–è¾‘ `bin/config.json` æ–‡ä»¶ï¼š

```json
{
  "tradingbot/src/cex/binance:Config": {
    "APIKey": "ä½ çš„å¸å®‰APIå¯†é’¥",
    "SecretKey": "ä½ çš„å¸å®‰Secretå¯†é’¥",
    "BaseURL": "https://api.binance.com",
    "Timeout": 10,
    "EnableTrading": true,        // å¯ç”¨å®ç›˜äº¤æ˜“
    "ReadOnly": false,           // å…³é—­åªè¯»æ¨¡å¼
    "Fee": 0.001,
    "DBName": "tradingbot_binance"
  }
}
```

**å®‰å…¨å»ºè®®**ï¼š
- æµ‹è¯•é˜¶æ®µè®¾ç½® `"EnableTrading": false, "ReadOnly": true`
- ç”Ÿäº§ç¯å¢ƒè®¾ç½® `"EnableTrading": true, "ReadOnly": false`

### ğŸš€ å¯åŠ¨å®ç›˜äº¤æ˜“

#### 1. æµ‹è¯•è¿æ¥
```bash
# æµ‹è¯•APIè¿æ¥
./bin/tradingbot bollinger-backtest -base BTC -quote USDT -start 2024-01-01 -end 2024-01-02 -t 1h -capital 100
```

æˆåŠŸé…ç½®ååº”æ˜¾ç¤ºï¼š
```
âœ“ Connected to CEX API
ğŸ—„ï¸ Connecting to binance database... connected!
```

#### 2. å¯åŠ¨å®ç›˜äº¤æ˜“
```bash
# å¯åŠ¨DOGE/USDTå®ç›˜äº¤æ˜“ï¼ˆä¿å®ˆç­–ç•¥ï¼‰
./bin/tradingbot bollinger-live \
  -base DOGE \
  -quote USDT \
  -t 4h \
  -sell-strategy conservative
```

#### 3. æ”¯æŒçš„äº¤æ˜“ç­–ç•¥

| ç­–ç•¥ | é£é™©çº§åˆ« | é¢„æœŸæ”¶ç›Š | é€‚ç”¨åœºæ™¯ |
|------|----------|----------|----------|
| `conservative` | ğŸŸ¢ ä½ | 34.57% | ç¨³å¥æŠ•èµ„ |
| `moderate` | ğŸŸ¡ ä¸­ | 43.83% | å¹³è¡¡æŠ•èµ„ |
| `aggressive` | ğŸŸ  é«˜ | 83.22% | æ¿€è¿›æŠ•èµ„ |
| `trailing_5` | ğŸ”´ æœ€é«˜ | 128.40% | ç‰›å¸‚è¶‹åŠ¿ |
| `trailing_10` | ğŸŸ  é«˜ | 106.69% | éœ‡è¡å¸‚åœº |

#### 4. å®æ—¶ç›‘æ§

äº¤æ˜“å¯åŠ¨åä¼šæ˜¾ç¤ºï¼š
```
ğŸ”´ Starting live trading...
âœ“ Connected to CEX API
ğŸ“Š æŠ•èµ„ç»„åˆçŠ¶æ€: DOGEä½™é¢=1000, USDTä½™é¢=500, å½“å‰ä»·æ ¼=0.08, æ€»ä»·å€¼=580
ğŸ”µ ç”Ÿæˆä¹°å…¥é™ä»·å•: quantity=12500, price=0.078
âœ… å®ç›˜ä¹°å…¥è®¢å•æˆåŠŸ: OrderID=123456789
```

ä½¿ç”¨ `Ctrl+C` å®‰å…¨åœæ­¢äº¤æ˜“ã€‚

### ğŸ›¡ï¸ å®‰å…¨æœ€ä½³å®è·µ

#### APIå®‰å…¨
- âœ… è®¾ç½®IPç™½åå•
- âœ… å®šæœŸæ›´æ¢APIå¯†é’¥
- âœ… åªå¯ç”¨å¿…è¦æƒé™
- âŒ æ°¸è¿œä¸è¦åˆ†äº«APIå¯†é’¥

#### èµ„é‡‘å®‰å…¨
- âœ… ä»å°é¢å¼€å§‹æµ‹è¯•
- âœ… è®¾ç½®åˆç†çš„ä»“ä½å¤§å°
- âœ… å®šæœŸæ£€æŸ¥äº¤æ˜“è®°å½•
- âœ… ä¿æŒè´¦æˆ·èµ„é‡‘ç›‘æ§

#### ç³»ç»Ÿå®‰å…¨
- âœ… åœ¨å®‰å…¨çš„ç½‘ç»œç¯å¢ƒè¿è¡Œ
- âœ… ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„äº¤æ˜“ç³»ç»Ÿ
- âœ… å®šæœŸå¤‡ä»½é…ç½®æ–‡ä»¶

### ğŸ”§ æ•…éšœæ’é™¤

**APIè¿æ¥å¤±è´¥:**
```
failed to connect to CEX: Binance ping failed
```
- æ£€æŸ¥APIå¯†é’¥æ˜¯å¦æ­£ç¡®
- æ£€æŸ¥ç½‘ç»œè¿æ¥å’ŒIPç™½åå•
- ç¡®è®¤å¸å®‰æœåŠ¡çŠ¶æ€

**äº¤æ˜“æƒé™é”™è¯¯:**
```
This request is not enabled for this account
```
- æ£€æŸ¥APIæƒé™è®¾ç½®
- ç¡®è®¤å¯ç”¨äº†ç°è´§äº¤æ˜“æƒé™

**ä½™é¢ä¸è¶³:**
```
Account has insufficient balance
```
- æ£€æŸ¥USDTä½™é¢æ˜¯å¦å……è¶³
- ç¡®è®¤äº¤æ˜“å¯¹èµ„äº§ä½™é¢

### âœ… å¯åŠ¨æ£€æŸ¥æ¸…å•

åœ¨å¼€å§‹å®ç›˜äº¤æ˜“å‰ï¼Œè¯·ç¡®è®¤ï¼š

- [ ] å·²åˆ›å»ºå¸å®‰APIå¯†é’¥
- [ ] å·²æ­£ç¡®é…ç½® `bin/config.json`
- [ ] å·²æµ‹è¯•APIè¿æ¥æˆåŠŸ
- [ ] å·²äº†è§£é€‰æ‹©çš„äº¤æ˜“ç­–ç•¥
- [ ] å·²è®¾ç½®åˆç†çš„èµ„é‡‘è§„æ¨¡
- [ ] å·²å‡†å¤‡å¥½ç›‘æ§äº¤æ˜“è¿‡ç¨‹
- [ ] å·²äº†è§£å¦‚ä½•åœæ­¢äº¤æ˜“
- [ ] å·²å¤‡ä»½é‡è¦é…ç½®æ–‡ä»¶

## âš ï¸ é£é™©æç¤º

**å®ç›˜äº¤æ˜“ç‰¹åˆ«é£é™©æç¤ºï¼š**
1. **èµ„é‡‘æŸå¤±é£é™©**: å®ç›˜äº¤æ˜“ä½¿ç”¨çœŸå®èµ„é‡‘ï¼Œå¯èƒ½å¯¼è‡´å…¨éƒ¨æœ¬é‡‘æŸå¤±
2. **ç­–ç•¥é£é™©**: ä»»ä½•äº¤æ˜“ç­–ç•¥éƒ½æ— æ³•ä¿è¯ç›ˆåˆ©ï¼Œå†å²æ”¶ç›Šä¸ä»£è¡¨æœªæ¥è¡¨ç°
3. **æŠ€æœ¯é£é™©**: è½¯ä»¶Bugã€ç½‘ç»œä¸­æ–­ã€APIæ•…éšœç­‰å¯èƒ½å¯¼è‡´äº¤æ˜“æ‰§è¡Œå¼‚å¸¸
4. **å¸‚åœºé£é™©**: åŠ å¯†è´§å¸å¸‚åœºæ³¢åŠ¨æå¤§ï¼Œä»·æ ¼å¯èƒ½æ€¥å‰§ä¸‹è·Œ
5. **æ“ä½œé£é™©**: é”™è¯¯é…ç½®ã€è¯¯æ“ä½œå¯èƒ½å¯¼è‡´æ„å¤–æŸå¤±

**é€šç”¨é£é™©ï¼š**
1. **æŠ•èµ„é£é™©**: åŠ å¯†è´§å¸äº¤æ˜“å­˜åœ¨é«˜é£é™©ï¼Œä»…æŠ•å…¥æ‚¨èƒ½æ‰¿å—æŸå¤±çš„èµ„é‡‘
2. **æŠ€æœ¯é£é™©**: è½¯ä»¶å¯èƒ½å­˜åœ¨bugï¼Œè¯·åœ¨å°é¢èµ„é‡‘ä¸Šå……åˆ†æµ‹è¯•åå†ä½¿ç”¨
3. **APIé£é™©**: è¯·å¦¥å–„ä¿ç®¡APIå¯†é’¥ï¼Œå»ºè®®è®¾ç½®IPç™½åå•å’Œæœ€å°æƒé™
4. **ç½‘ç»œé£é™©**: ç½‘ç»œå»¶è¿Ÿã€æ–­çº¿å¯èƒ½å½±å“äº¤æ˜“æ‰§è¡Œ

**å…è´£å£°æ˜**: æœ¬è½¯ä»¶ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ï¼Œä½¿ç”¨è€…é¡»è‡ªè¡Œæ‰¿æ‹…æ‰€æœ‰äº¤æ˜“é£é™©å’ŒæŸå¤±ã€‚

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ï¼Œè¯¦è§LICENSEæ–‡ä»¶ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›é¡¹ç›®ã€‚

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š
- æäº¤GitHub Issue
- å‘é€é‚®ä»¶è‡³é¡¹ç›®ç»´æŠ¤è€…